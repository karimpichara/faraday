{% extends "_page_base.html" %}

{% block title %}Bienvenido - Control de TOA{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/welcome.css') }}">
{% endblock %}

{% block page_header %}

{% endblock %}

{% block page_content %}

<!-- Main Dashboard -->
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>¬°Bienvenido a la aplicaci√≥n de Control de TOA!</h1>
        <h4>Sistema simplificado para gesti√≥n de comentarios e im√°genes para el control de TOA.</h4>
        <br>
        <h3 class="dashboard-title">üöÄ Funcionalidades Disponibles</h3>
    </div>

    <div class="features-grid">
        <!-- Active Features -->
        <a href="{{ url_for('toa.manage_tecnicos') }}" class="feature-card active">
            <div class="feature-icon">üîß</div>
            <div class="feature-content">
                <h3 class="feature-title">Gesti√≥n de T√©cnicos</h3>
                <p class="feature-description">Administra t√©cnicos y supervisores con sincronizaci√≥n en tiempo real</p>
            </div>
        </a>

        <a href="{{ url_for('toa.list_tecnicos') }}" class="feature-card active">
            <div class="feature-icon">üìã</div>
            <div class="feature-content">
                <h3 class="feature-title">Lista de T√©cnicos</h3>
                <p class="feature-description">Visualiza todos los t√©cnicos registrados en tu empresa</p>
            </div>
        </a>

        <a href="{{ url_for('toa.list_ordenes_comentarios') }}" class="feature-card active">
            <div class="feature-icon">üí¨</div>
            <div class="feature-content">
                <h3 class="feature-title">Ver comentarios por √≥rdenes de trabajo</h3>
                <p class="feature-description">Busca y visualiza comentarios con fotos de todas tus √≥rdenes de trabajo
                </p>
            </div>
        </a>

        {% if username == 'dev' %}
        <a href="{{ url_for('main.manage_users') }}" class="feature-card active dev-only">
            <div class="feature-icon">üë§</div>
            <div class="feature-content">
                <h3 class="feature-title">Gesti√≥n de Usuarios</h3>
                <p class="feature-description">Panel de administraci√≥n exclusivo para gestionar usuarios del sistema</p>
                <div class="dev-badge-card">DEV ONLY</div>
            </div>
        </a>

        <a href="{{ url_for('main.manage_comentarios') }}" class="feature-card active dev-only">
            <div class="feature-icon">üóëÔ∏è</div>
            <div class="feature-content">
                <h3 class="feature-title">Gesti√≥n de Comentarios</h3>
                <p class="feature-description">Panel para desactivar/restaurar comentarios con paginaci√≥n y estad√≠sticas
                </p>
                <div class="dev-badge-card">DEV ONLY</div>
            </div>
        </a>

        <a href="{{ url_for('main.manage_empresas') }}" class="feature-card active dev-only">
            <div class="feature-icon">üè¢</div>
            <div class="feature-content">
                <h3 class="feature-title">Gesti√≥n de Empresas</h3>
                <p class="feature-description">Panel para crear y administrar empresas del sistema con validaciones</p>
                <div class="dev-badge-card">DEV ONLY</div>
            </div>
        </a>
        {% endif %}

    </div>

    <!-- Quick Access Section -->
    <div class="quick-access-section">
        <h3 class="section-title">üöÄ Acceso R√°pido</h3>
        <div class="quick-access-content">
            <div class="quick-input-group">
                <label for="codigo-orden" class="quick-label">Comentarios por c√≥digo de orden:</label>
                <div class="input-button-group">
                    <input type="text" id="codigo-orden" placeholder="Ej: 3-abc128d" class="quick-input">
                    <button onclick="goToComentarios()" class="quick-btn">
                        üìù Ir a Comentarios
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>



<script>
    function goToComentarios() {
        const codigo = document.getElementById('codigo-orden').value.trim();
        if (codigo) {
            window.location.href = '/toa/comentarios/' + encodeURIComponent(codigo);
        } else {
            // Modern alert replacement
            showNotification('Por favor ingrese un c√≥digo de orden de trabajo', 'warning');
        }
    }

    function showNotification(message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
        <span>${message}</span>
        <button onclick="this.parentElement.remove()">‚úï</button>
    `;

        // Add to page
        document.body.appendChild(notification);

        // Auto remove after 3 seconds
        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, 3000);
    }

    // Allow Enter key to submit
    document.getElementById('codigo-orden').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            goToComentarios();
        }
    });

    // Notification styles are now in welcome.css
</script>
{% endblock %}